import{d as a,e as c,m as p}from"./index-deps.js";export{i as context}from"./index-deps.js";import{c as h,a as f,_ as d,b as v,d as y,j as E,s as g,e as N,f as T,g as O,h as _,i as b,p as k,l as I,k as w,m as A}from"./xml-deps.js";import{_ as S,a as x,g as L,m as D,p as C,b as P,c as F,d as M,R as j,e as U,i as B,f as K,h as V,j as W,k as Y,N as G}from"./rest-deps.js";export{s as RESTMethods,R as RequestHandler,e as RestHandler,u as compose,n as createResponseComposition,o as defaultContext,l as defaultResponse,m as matchRequestUrl,r as response,q as rest,t as restContext}from"./rest-deps.js";var H,J="object"===("undefined"==typeof Reflect?"undefined":S(Reflect))?Reflect:null,Q=J&&"function"==typeof J.apply?J.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};H=J&&"function"==typeof J.ownKeys?J.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var X=Number.isNaN||function(e){return e!=e};function z(){z.init.call(this)}var $=z,Z=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}ue(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&ue(e,"error",t,n)}(e,i,{once:!0})}))};z.EventEmitter=z,z.prototype._events=void 0,z.prototype._eventsCount=0,z.prototype._maxListeners=void 0;var ee=10;function te(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+S(e))}function ne(e){return void 0===e._maxListeners?z.defaultMaxListeners:e._maxListeners}function re(e,t,n,r){var i,o,s,a;if(te(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=ne(e))>0&&s.length>i&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,a=c,console&&console.warn&&console.warn(a)}return e}function ie(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function oe(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=ie.bind(r);return i.listener=n,r.wrapFn=i,i}function se(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):ce(i,i.length)}function ae(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function ce(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function ue(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+S(e));e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(z,"defaultMaxListeners",{enumerable:!0,get:function(){return ee},set:function(e){if("number"!=typeof e||e<0||X(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");ee=e}}),z.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},z.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||X(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},z.prototype.getMaxListeners=function(){return ne(this)},z.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=i[e];if(void 0===a)return!1;if("function"==typeof a)Q(a,this,t);else{var c=a.length,u=ce(a,c);for(n=0;n<c;++n)Q(u[n],this,t)}return!0},z.prototype.addListener=function(e,t){return re(this,e,t,!1)},z.prototype.on=z.prototype.addListener,z.prototype.prependListener=function(e,t){return re(this,e,t,!0)},z.prototype.once=function(e,t){return te(t),this.on(e,oe(this,e,t)),this},z.prototype.prependOnceListener=function(e,t){return te(t),this.prependListener(e,oe(this,e,t)),this},z.prototype.removeListener=function(e,t){var n,r,i,o,s;if(te(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},z.prototype.off=z.prototype.removeListener,z.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},z.prototype.listeners=function(e){return se(this,e,!0)},z.prototype.rawListeners=function(e){return se(this,e,!1)},z.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):ae.call(e,t)},z.prototype.listenerCount=ae,z.prototype.eventNames=function(){return this._eventsCount>0?H(this._events):[]},$.once=Z;var le=h((function(e,t){var n,r=f&&f.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=f&&f.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r};t.__esModule=!0,t.StrictEventEmitter=void 0;var o=function(e){function t(){return e.call(this)||this}return r(t,e),t.prototype.on=function(t,n){return e.prototype.on.call(this,t.toString(),n)},t.prototype.once=function(t,n){return e.prototype.on.call(this,t.toString(),n)},t.prototype.off=function(t,n){return e.prototype.off.call(this,t.toString(),n)},t.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return e.prototype.emit.apply(this,i([t.toString()],n))},t.prototype.addListener=function(t,n){return e.prototype.addListener.call(this,t.toString(),n)},t.prototype.prependListener=function(t,n){return e.prototype.prependListener.call(this,t.toString(),n)},t.prototype.prependOnceListener=function(t,n){return e.prototype.prependOnceListener.call(this,t.toString(),n)},t.prototype.removeListener=function(t,n){return e.prototype.removeListener.call(this,t.toString(),n)},t.prototype.removeAllListeners=function(t){return e.prototype.removeAllListeners.call(this,t?t.toString():void 0)},t.prototype.eventNames=function(){return e.prototype.eventNames.call(this)},t.prototype.listeners=function(t){return e.prototype.listeners.call(this,t.toString())},t.prototype.rawListeners=function(t){return e.prototype.rawListeners.call(this,t.toString())},t.prototype.listenerCount=function(t){return e.prototype.listenerCount.call(this,t.toString())},t}($.EventEmitter);t.StrictEventEmitter=o})),pe=h((function(e,t){var n=f&&f.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=f&&f.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};t.__esModule=!0,r(le,t)})),he=function(){var e=x(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t().catch((function(e){throw e}));case 3:return n=e.sent,e.abrupt("return",[null,n]);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[e.t0,null]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),fe=Object.defineProperty({until:he},"__esModule",{value:!0}).until,de=function(e,t,n){return[e.active,e.installing,e.waiting].filter(Boolean).find((function(e){return n(e.scriptURL,t)}))||null};var ve=function(e,t,n){return void 0===t&&(t={}),d(void 0,void 0,void 0,(function(){var r,i,o,s,a,c,u;return v(this,(function(l){switch(l.label){case 0:return r=new URL(e,location.origin).href,[4,navigator.serviceWorker.getRegistrations().then((function(e){return e.filter((function(e){return de(e,r,n)}))}))];case 1:return i=l.sent(),!navigator.serviceWorker.controller&&i.length>0&&location.reload(),(o=i[0])?[2,o.update().then((function(){return[de(o,r,n),o]}))]:[4,fe((function(){return d(void 0,void 0,void 0,(function(){var i;return v(this,(function(o){switch(o.label){case 0:return[4,navigator.serviceWorker.register(e,t)];case 1:return i=o.sent(),[2,[de(i,r,n),i]]}}))}))}))];case 2:if(s=l.sent(),a=s[0],c=s[1],a){if(a.message.includes("(404)"))throw u=new URL((null==t?void 0:t.scope)||"/",location.href),new Error("[SWAP] Failed to register a Service Worker for scope ('".concat(u.href,"') with script ('").concat(r,'\'): Service Worker script does not exist at the given path.\n\nDid you forget to run "npx swap init <PUBLIC_DIR>"?'));throw new Error("[SWAP] Failed to register a Service Worker:\n\n".concat(a.message))}return[2,c]}}))}))},ye=function(e,t){return d(void 0,void 0,void 0,(function(){var n,r;return v(this,(function(i){return e.workerChannel.send("MOCK_ACTIVATE"),(null==t?void 0:t.isOnline)?null===(n=e.workerChannel)||void 0===n||n.send("ONLINE"):null===(r=e.workerChannel)||void 0===r||r.send("OFFLINE"),[2,e.events.once("MOCKING_ENABLED").then((function(){(null==t?void 0:t.quiet)||(console.groupCollapsed("%c[SWAP] Mocking enabled.","color:orangered;font-weight:bold;"),console.log("font-weight:bold","font-weight:normal"),console.groupEnd())}))]}))}))},me=function(e,t){return d(void 0,void 0,void 0,(function(){var n,r;return v(this,(function(i){switch(i.label){case 0:return 0===(n=t.filter((function(t){return t.test(e)}))).length?[2,{handler:void 0,response:void 0}]:[4,n.reduce((function(t,n){return d(void 0,void 0,void 0,(function(){var r,i;return v(this,(function(o){switch(o.label){case 0:return[4,t];case 1:return(null==(r=o.sent())?void 0:r.response)?[2,t]:[4,n.run(e)];case 2:return null===(i=o.sent())||i.handler.shouldSkip?[2,null]:i.response?(i.response.once&&n.markAsSkipped(!0),[2,i]):[2,{request:i.request,handler:i.handler,response:void 0,parsedResult:i.parsedResult}]}}))}))}),Promise.resolve(null))];case 1:return(r=i.sent())?[2,{handler:r.handler,publicRequest:r.request,parsedRequest:r.parsedResult,response:r.response}]:[2,{handler:void 0,response:void 0}]}}))}))},Ee=function(){function e(e,t,n,r,i){return e<t||n<t?e>n?n+1:e+1:r===i?t:t+1}return function(t,n){if(t===n)return 0;if(t.length>n.length){var r=t;t=n,n=r}for(var i=t.length,o=n.length;i>0&&t.charCodeAt(i-1)===n.charCodeAt(o-1);)i--,o--;for(var s=0;s<i&&t.charCodeAt(s)===n.charCodeAt(s);)s++;if(o-=s,0===(i-=s)||o<3)return o;var a,c,u,l,p,h,f,d,v,y,m,E,g=0,N=[];for(a=0;a<i;a++)N.push(a+1),N.push(t.charCodeAt(s+a));for(var T=N.length-1;g<o-3;)for(v=n.charCodeAt(s+(c=g)),y=n.charCodeAt(s+(u=g+1)),m=n.charCodeAt(s+(l=g+2)),E=n.charCodeAt(s+(p=g+3)),h=g+=4,a=0;a<T;a+=2)c=e(f=N[a],c,u,v,d=N[a+1]),u=e(c,u,l,y,d),l=e(u,l,p,m,d),h=e(l,p,h,E,d),N[a]=h,p=l,l=u,u=c,c=f;for(;g<o;)for(v=n.charCodeAt(s+(c=g)),h=++g,a=0;a<T;a+=2)f=N[a],N[a]=h=e(f,c,h,v,N[a+1]),c=f;return h}}();function ge(e){return ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ge(e)}var Ne="function"==typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag";function Te(e,t){for(var n,r=/\r\n|[\n\r]/g,i=1,o=t+1;(n=r.exec(e.body))&&n.index<t;)i+=1,o=t+1-(n.index+n[0].length);return{line:i,column:o}}function Oe(e){return _e(e.source,Te(e.source,e.start))}function _e(e,t){var n=e.locationOffset.column-1,r=ke(n)+e.body,i=t.line-1,o=e.locationOffset.line-1,s=t.line+o,a=1===t.line?n:0,c=t.column+a,u="".concat(e.name,":").concat(s,":").concat(c,"\n"),l=r.split(/\r\n|[\n\r]/g),p=l[i];if(p.length>120){for(var h=Math.floor(c/80),f=c%80,d=[],v=0;v<p.length;v+=80)d.push(p.slice(v,v+80));return u+be([["".concat(s),d[0]]].concat(d.slice(1,h+1).map((function(e){return["",e]})),[[" ",ke(f-1)+"^"],["",d[h+1]]]))}return u+be([["".concat(s-1),l[i-1]],["".concat(s),p],["",ke(c-1)+"^"],["".concat(s+1),l[i+1]]])}function be(e){var t=e.filter((function(e){return e[0],void 0!==e[1]})),n=Math.max.apply(Math,t.map((function(e){return e[0].length})));return t.map((function(e){var t,r=e[0],i=e[1];return ke(n-(t=r).length)+t+(i?" | "+i:" |")})).join("\n")}function ke(e){return Array(e+1).join(" ")}function Ie(e){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(e)}function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xe(e,t){return!t||"object"!==Ie(t)&&"function"!=typeof t?Le(e):t}function Le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Re(e){var t="function"==typeof Map?new Map:void 0;return Re=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return De(e,arguments,Fe(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Pe(r,e)},Re(e)}function De(e,t,n){return De=Ce()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Pe(i,n.prototype),i},De.apply(null,arguments)}function Ce(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Pe(e,t){return Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Pe(e,t)}function Fe(e){return Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Fe(e)}var Me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}(a,Re(Error));var t,n,r,i,o,s=(t=a,n=Ce(),function(){var e,r=Fe(t);if(n){var i=Fe(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return xe(this,e)});function a(e,t,n,r,i,o,c){var u,l,p,h;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(h=s.call(this,e)).name="GraphQLError",h.originalError=null!=o?o:void 0,h.nodes=je(Array.isArray(t)?t:t?[t]:void 0);for(var f=[],d=0,v=null!==(y=h.nodes)&&void 0!==y?y:[];d<v.length;d++){var y,m=v[d].loc;null!=m&&f.push(m)}f=je(f),h.source=null!=n?n:null===(u=f)||void 0===u?void 0:u[0].source,h.positions=null!=r?r:null===(l=f)||void 0===l?void 0:l.map((function(e){return e.start})),h.locations=r&&n?r.map((function(e){return Te(n,e)})):null===(p=f)||void 0===p?void 0:p.map((function(e){return Te(e.source,e.start)})),h.path=null!=i?i:void 0;var E,g=null==o?void 0:o.extensions;return null==c&&("object"==ge(E=g)&&null!==E)?h.extensions=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){Ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},g):h.extensions=null!=c?c:{},Object.defineProperties(Le(h),{message:{enumerable:!0},locations:{enumerable:null!=h.locations},path:{enumerable:null!=h.path},extensions:{enumerable:null!=h.extensions&&Object.keys(h.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=o&&o.stack?(Object.defineProperty(Le(h),"stack",{value:o.stack,writable:!0,configurable:!0}),xe(h)):(Error.captureStackTrace?Error.captureStackTrace(Le(h),a):Object.defineProperty(Le(h),"stack",{value:Error().stack,writable:!0,configurable:!0}),h)}return r=a,(i=[{key:"toString",value:function(){return function(e){var t=e.message;if(e.nodes)for(var n=0,r=e.nodes;n<r.length;n++){var i=r[n];i.loc&&(t+="\n\n"+Oe(i.loc))}else if(e.source&&e.locations)for(var o=0,s=e.locations;o<s.length;o++){var a=s[o];t+="\n\n"+_e(e.source,a)}return t}(this)}},{key:Ne,get:function(){return"Object"}}])&&Se(r.prototype,i),o&&Se(r,o),a}();function je(e){return void 0===e||0===e.length?void 0:e}function Ue(e,t,n){return new Me("Syntax Error: ".concat(n),void 0,e,[t])}var qe=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});var Be="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function Ke(e){var t=e.prototype.toJSON;"function"==typeof t||function(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}(0),e.prototype.inspect=t,Be&&(e.prototype[Be]=t)}var Ve=function(){function e(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();Ke(Ve);var We=function(){function e(e,t,n,r,i,o,s){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=s,this.prev=o,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();Ke(We);var Ye=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function Ge(e){return Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ge(e)}function He(e){return Je(e,[])}function Je(e,t){switch(Ge(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),r=function(e){var t=e[String(Be)];if("function"==typeof t)return t;if("function"==typeof e.inspect)return e.inspect}(e);if(void 0!==r){var i=r.call(e);if(i!==e)return"string"==typeof i?i:Je(i,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";for(var n=Math.min(10,e.length),r=e.length-n,i=[],o=0;o<n;++o)i.push(Je(e[o],t));1===r?i.push("... 1 more item"):r>1&&i.push("... ".concat(r," more items"));return"["+i.join(", ")+"]"}(e,n);return function(e,t){var n=Object.keys(e);if(0===n.length)return"{}";if(t.length>2)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n&&""!==n)return n}return t}(e)+"]";var r=n.map((function(n){return n+": "+Je(e[n],t)}));return"{ "+r.join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}function Qe(e,t){if(!Boolean(e))throw new Error(t)}function Xe(e){return Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xe(e)}var ze="production"===process.env.NODE_ENV?function(e,t){return e instanceof t}:function(e,t){if(e instanceof t)return!0;if("object"===Xe(e)&&null!==e){var n,r=t.prototype[Symbol.toStringTag];if(r===(Symbol.toStringTag in e?e[Symbol.toStringTag]:null===(n=e.constructor)||void 0===n?void 0:n.name)){var i=He(e);throw new Error("Cannot use ".concat(r,' "').concat(i,'" from another module or realm.\n\nEnsure that there is only one instance of "graphql" in the node_modules\ndirectory. If different versions of "graphql" are the dependencies of other\nrelied on modules, use "resolutions" to ensure only one version is installed.\n\nhttps://yarnpkg.com/en/docs/selective-version-resolutions\n\nDuplicate "graphql" modules cannot be used at the same time since different\nversions may have different capabilities and behavior. The data from one\nversion used in the function from another could produce confusing and\nspurious results.'))}}return!1};function $e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ze=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"==typeof e||Qe(0,"Body must be a string. Received: ".concat(He(e),".")),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||Qe(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Qe(0,"column in locationOffset is 1-indexed and must be positive.")}var t,n,r;return t=e,(n=[{key:Ne,get:function(){return"Source"}}])&&$e(t.prototype,n),r&&$e(t,r),e}();var et=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function tt(e){var t=e.split(/\r\n|[\n\r]/g),n=function(e){for(var t,n=!0,r=!0,i=0,o=null,s=0;s<e.length;++s)switch(e.charCodeAt(s)){case 13:10===e.charCodeAt(s+1)&&++s;case 10:n=!1,r=!0,i=0;break;case 9:case 32:++i;break;default:r&&!n&&(null===o||i<o)&&(o=i),r=!1}return null!==(t=o)&&void 0!==t?t:0}(e);if(0!==n)for(var r=1;r<t.length;r++)t[r]=t[r].slice(n);for(var i=0;i<t.length&&nt(t[i]);)++i;for(var o=t.length;o>i&&nt(t[o-1]);)--o;return t.slice(i,o).join("\n")}function nt(e){for(var t=0;t<e.length;++t)if(" "!==e[t]&&"\t"!==e[t])return!1;return!0}var rt=function(){function e(e){var t=new We(Ye.SOF,0,0,0,0,null);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},t.lookahead=function(){var e=this.token;if(e.kind!==Ye.EOF)do{var t;e=null!==(t=e.next)&&void 0!==t?t:e.next=ot(this,e)}while(e.kind===Ye.COMMENT);return e},e}();function it(e){return isNaN(e)?Ye.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function ot(e,t){for(var n=e.source,r=n.body,i=r.length,o=t.end;o<i;){var s=r.charCodeAt(o),a=e.line,c=1+o-e.lineStart;switch(s){case 65279:case 9:case 32:case 44:++o;continue;case 10:++o,++e.line,e.lineStart=o;continue;case 13:10===r.charCodeAt(o+1)?o+=2:++o,++e.line,e.lineStart=o;continue;case 33:return new We(Ye.BANG,o,o+1,a,c,t);case 35:return at(n,o,a,c,t);case 36:return new We(Ye.DOLLAR,o,o+1,a,c,t);case 38:return new We(Ye.AMP,o,o+1,a,c,t);case 40:return new We(Ye.PAREN_L,o,o+1,a,c,t);case 41:return new We(Ye.PAREN_R,o,o+1,a,c,t);case 46:if(46===r.charCodeAt(o+1)&&46===r.charCodeAt(o+2))return new We(Ye.SPREAD,o,o+3,a,c,t);break;case 58:return new We(Ye.COLON,o,o+1,a,c,t);case 61:return new We(Ye.EQUALS,o,o+1,a,c,t);case 64:return new We(Ye.AT,o,o+1,a,c,t);case 91:return new We(Ye.BRACKET_L,o,o+1,a,c,t);case 93:return new We(Ye.BRACKET_R,o,o+1,a,c,t);case 123:return new We(Ye.BRACE_L,o,o+1,a,c,t);case 124:return new We(Ye.PIPE,o,o+1,a,c,t);case 125:return new We(Ye.BRACE_R,o,o+1,a,c,t);case 34:return 34===r.charCodeAt(o+1)&&34===r.charCodeAt(o+2)?pt(n,o,a,c,t,e):lt(n,o,a,c,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return ct(n,o,s,a,c,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return ft(n,o,a,c,t)}throw Ue(n,o,st(s))}var u=e.line,l=1+o-e.lineStart;return new We(Ye.EOF,i,i,u,l,t)}function st(e){return e<32&&9!==e&&10!==e&&13!==e?"Cannot contain the invalid character ".concat(it(e),"."):39===e?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat(it(e),".")}function at(e,t,n,r,i){var o,s=e.body,a=t;do{o=s.charCodeAt(++a)}while(!isNaN(o)&&(o>31||9===o));return new We(Ye.COMMENT,t,a,n,r,i,s.slice(t+1,a))}function ct(e,t,n,r,i,o){var s=e.body,a=n,c=t,u=!1;if(45===a&&(a=s.charCodeAt(++c)),48===a){if((a=s.charCodeAt(++c))>=48&&a<=57)throw Ue(e,c,"Invalid number, unexpected digit after 0: ".concat(it(a),"."))}else c=ut(e,c,a),a=s.charCodeAt(c);if(46===a&&(u=!0,a=s.charCodeAt(++c),c=ut(e,c,a),a=s.charCodeAt(c)),69!==a&&101!==a||(u=!0,43!==(a=s.charCodeAt(++c))&&45!==a||(a=s.charCodeAt(++c)),c=ut(e,c,a),a=s.charCodeAt(c)),46===a||function(e){return 95===e||e>=65&&e<=90||e>=97&&e<=122}(a))throw Ue(e,c,"Invalid number, expected digit but got: ".concat(it(a),"."));return new We(u?Ye.FLOAT:Ye.INT,t,c,r,i,o,s.slice(t,c))}function ut(e,t,n){var r=e.body,i=t,o=n;if(o>=48&&o<=57){do{o=r.charCodeAt(++i)}while(o>=48&&o<=57);return i}throw Ue(e,i,"Invalid number, expected digit but got: ".concat(it(o),"."))}function lt(e,t,n,r,i){for(var o,s,a,c,u=e.body,l=t+1,p=l,h=0,f="";l<u.length&&!isNaN(h=u.charCodeAt(l))&&10!==h&&13!==h;){if(34===h)return f+=u.slice(p,l),new We(Ye.STRING,t,l+1,n,r,i,f);if(h<32&&9!==h)throw Ue(e,l,"Invalid character within String: ".concat(it(h),"."));if(++l,92===h){switch(f+=u.slice(p,l-1),h=u.charCodeAt(l)){case 34:f+='"';break;case 47:f+="/";break;case 92:f+="\\";break;case 98:f+="\b";break;case 102:f+="\f";break;case 110:f+="\n";break;case 114:f+="\r";break;case 116:f+="\t";break;case 117:var d=(o=u.charCodeAt(l+1),s=u.charCodeAt(l+2),a=u.charCodeAt(l+3),c=u.charCodeAt(l+4),ht(o)<<12|ht(s)<<8|ht(a)<<4|ht(c));if(d<0){var v=u.slice(l+1,l+5);throw Ue(e,l,"Invalid character escape sequence: \\u".concat(v,"."))}f+=String.fromCharCode(d),l+=4;break;default:throw Ue(e,l,"Invalid character escape sequence: \\".concat(String.fromCharCode(h),"."))}p=++l}}throw Ue(e,l,"Unterminated string.")}function pt(e,t,n,r,i,o){for(var s=e.body,a=t+3,c=a,u=0,l="";a<s.length&&!isNaN(u=s.charCodeAt(a));){if(34===u&&34===s.charCodeAt(a+1)&&34===s.charCodeAt(a+2))return l+=s.slice(c,a),new We(Ye.BLOCK_STRING,t,a+3,n,r,i,tt(l));if(u<32&&9!==u&&10!==u&&13!==u)throw Ue(e,a,"Invalid character within String: ".concat(it(u),"."));10===u?(++a,++o.line,o.lineStart=a):13===u?(10===s.charCodeAt(a+1)?a+=2:++a,++o.line,o.lineStart=a):92===u&&34===s.charCodeAt(a+1)&&34===s.charCodeAt(a+2)&&34===s.charCodeAt(a+3)?(l+=s.slice(c,a)+'"""',c=a+=4):++a}throw Ue(e,a,"Unterminated string.")}function ht(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function ft(e,t,n,r,i){for(var o=e.body,s=o.length,a=t+1,c=0;a!==s&&!isNaN(c=o.charCodeAt(a))&&(95===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122);)++a;return new We(Ye.NAME,t,a,n,r,i,o.slice(t,a))}var dt=function(){function e(e,t){var n=function(e){return ze(e,Ze)}(e)?e:new Ze(e);this._lexer=new rt(n),this._options=t}var t=e.prototype;return t.parseName=function(){var e=this.expectToken(Ye.NAME);return{kind:qe.NAME,value:e.value,loc:this.loc(e)}},t.parseDocument=function(){var e=this._lexer.token;return{kind:qe.DOCUMENT,definitions:this.many(Ye.SOF,this.parseDefinition,Ye.EOF),loc:this.loc(e)}},t.parseDefinition=function(){if(this.peek(Ye.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(Ye.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var e=this._lexer.token;if(this.peek(Ye.BRACE_L))return{kind:qe.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(e)};var t,n=this.parseOperationType();return this.peek(Ye.NAME)&&(t=this.parseName()),{kind:qe.OPERATION_DEFINITION,operation:n,name:t,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseOperationType=function(){var e=this.expectToken(Ye.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(e)},t.parseVariableDefinitions=function(){return this.optionalMany(Ye.PAREN_L,this.parseVariableDefinition,Ye.PAREN_R)},t.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:qe.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(Ye.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(Ye.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},t.parseVariable=function(){var e=this._lexer.token;return this.expectToken(Ye.DOLLAR),{kind:qe.VARIABLE,name:this.parseName(),loc:this.loc(e)}},t.parseSelectionSet=function(){var e=this._lexer.token;return{kind:qe.SELECTION_SET,selections:this.many(Ye.BRACE_L,this.parseSelection,Ye.BRACE_R),loc:this.loc(e)}},t.parseSelection=function(){return this.peek(Ye.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var e,t,n=this._lexer.token,r=this.parseName();return this.expectOptionalToken(Ye.COLON)?(e=r,t=this.parseName()):t=r,{kind:qe.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(Ye.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},t.parseArguments=function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(Ye.PAREN_L,t,Ye.PAREN_R)},t.parseArgument=function(){var e=this._lexer.token,t=this.parseName();return this.expectToken(Ye.COLON),{kind:qe.ARGUMENT,name:t,value:this.parseValueLiteral(!1),loc:this.loc(e)}},t.parseConstArgument=function(){var e=this._lexer.token;return{kind:qe.ARGUMENT,name:this.parseName(),value:(this.expectToken(Ye.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},t.parseFragment=function(){var e=this._lexer.token;this.expectToken(Ye.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(Ye.NAME)?{kind:qe.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:qe.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentDefinition=function(){var e,t=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(e=this._options)||void 0===e?void 0:e.experimentalFragmentVariables)?{kind:qe.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}:{kind:qe.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},t.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(e){var t=this._lexer.token;switch(t.kind){case Ye.BRACKET_L:return this.parseList(e);case Ye.BRACE_L:return this.parseObject(e);case Ye.INT:return this._lexer.advance(),{kind:qe.INT,value:t.value,loc:this.loc(t)};case Ye.FLOAT:return this._lexer.advance(),{kind:qe.FLOAT,value:t.value,loc:this.loc(t)};case Ye.STRING:case Ye.BLOCK_STRING:return this.parseStringLiteral();case Ye.NAME:switch(this._lexer.advance(),t.value){case"true":return{kind:qe.BOOLEAN,value:!0,loc:this.loc(t)};case"false":return{kind:qe.BOOLEAN,value:!1,loc:this.loc(t)};case"null":return{kind:qe.NULL,loc:this.loc(t)};default:return{kind:qe.ENUM,value:t.value,loc:this.loc(t)}}case Ye.DOLLAR:if(!e)return this.parseVariable()}throw this.unexpected()},t.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:qe.STRING,value:e.value,block:e.kind===Ye.BLOCK_STRING,loc:this.loc(e)}},t.parseList=function(e){var t=this,n=this._lexer.token;return{kind:qe.LIST,values:this.any(Ye.BRACKET_L,(function(){return t.parseValueLiteral(e)}),Ye.BRACKET_R),loc:this.loc(n)}},t.parseObject=function(e){var t=this,n=this._lexer.token;return{kind:qe.OBJECT,fields:this.any(Ye.BRACE_L,(function(){return t.parseObjectField(e)}),Ye.BRACE_R),loc:this.loc(n)}},t.parseObjectField=function(e){var t=this._lexer.token,n=this.parseName();return this.expectToken(Ye.COLON),{kind:qe.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e),loc:this.loc(t)}},t.parseDirectives=function(e){for(var t=[];this.peek(Ye.AT);)t.push(this.parseDirective(e));return t},t.parseDirective=function(e){var t=this._lexer.token;return this.expectToken(Ye.AT),{kind:qe.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(t)}},t.parseTypeReference=function(){var e,t=this._lexer.token;return this.expectOptionalToken(Ye.BRACKET_L)?(e=this.parseTypeReference(),this.expectToken(Ye.BRACKET_R),e={kind:qe.LIST_TYPE,type:e,loc:this.loc(t)}):e=this.parseNamedType(),this.expectOptionalToken(Ye.BANG)?{kind:qe.NON_NULL_TYPE,type:e,loc:this.loc(t)}:e},t.parseNamedType=function(){var e=this._lexer.token;return{kind:qe.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},t.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===Ye.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(e)},t.peekDescription=function(){return this.peek(Ye.STRING)||this.peek(Ye.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");var n=this.parseDirectives(!0),r=this.many(Ye.BRACE_L,this.parseOperationTypeDefinition,Ye.BRACE_R);return{kind:qe.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:r,loc:this.loc(e)}},t.parseOperationTypeDefinition=function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(Ye.COLON);var n=this.parseNamedType();return{kind:qe.OPERATION_TYPE_DEFINITION,operation:t,type:n,loc:this.loc(e)}},t.parseScalarTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),r=this.parseDirectives(!0);return{kind:qe.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:qe.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o,loc:this.loc(e)}},t.parseImplementsInterfaces=function(){var e;if(!this.expectOptionalKeyword("implements"))return[];if(!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLImplementsInterfaces)){var t=[];this.expectOptionalToken(Ye.AMP);do{t.push(this.parseNamedType())}while(this.expectOptionalToken(Ye.AMP)||this.peek(Ye.NAME));return t}return this.delimitedMany(Ye.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var e;return!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLEmptyFields)&&this.peek(Ye.BRACE_L)&&this._lexer.lookahead().kind===Ye.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(Ye.BRACE_L,this.parseFieldDefinition,Ye.BRACE_R)},t.parseFieldDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(Ye.COLON);var i=this.parseTypeReference(),o=this.parseDirectives(!0);return{kind:qe.FIELD_DEFINITION,description:t,name:n,arguments:r,type:i,directives:o,loc:this.loc(e)}},t.parseArgumentDefs=function(){return this.optionalMany(Ye.PAREN_L,this.parseInputValueDef,Ye.PAREN_R)},t.parseInputValueDef=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(Ye.COLON);var r,i=this.parseTypeReference();this.expectOptionalToken(Ye.EQUALS)&&(r=this.parseValueLiteral(!0));var o=this.parseDirectives(!0);return{kind:qe.INPUT_VALUE_DEFINITION,description:t,name:n,type:i,defaultValue:r,directives:o,loc:this.loc(e)}},t.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:qe.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o,loc:this.loc(e)}},t.parseUnionTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseUnionMemberTypes();return{kind:qe.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:i,loc:this.loc(e)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(Ye.EQUALS)?this.delimitedMany(Ye.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseEnumValuesDefinition();return{kind:qe.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:i,loc:this.loc(e)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(Ye.BRACE_L,this.parseEnumValueDefinition,Ye.BRACE_R)},t.parseEnumValueDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseDirectives(!0);return{kind:qe.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseInputFieldsDefinition();return{kind:qe.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:i,loc:this.loc(e)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(Ye.BRACE_L,this.parseInputValueDef,Ye.BRACE_R)},t.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===Ye.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)},t.parseSchemaExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseDirectives(!0),n=this.optionalMany(Ye.BRACE_L,this.parseOperationTypeDefinition,Ye.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return{kind:qe.SCHEMA_EXTENSION,directives:t,operationTypes:n,loc:this.loc(e)}},t.parseScalarTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),n=this.parseDirectives(!0);if(0===n.length)throw this.unexpected();return{kind:qe.SCALAR_TYPE_EXTENSION,name:t,directives:n,loc:this.loc(e)}},t.parseObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:qe.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i,loc:this.loc(e)}},t.parseInterfaceTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:qe.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i,loc:this.loc(e)}},t.parseUnionTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:qe.UNION_TYPE_EXTENSION,name:t,directives:n,types:r,loc:this.loc(e)}},t.parseEnumTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:qe.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r,loc:this.loc(e)}},t.parseInputObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:qe.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r,loc:this.loc(e)}},t.parseDirectiveDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(Ye.AT);var n=this.parseName(),r=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var o=this.parseDirectiveLocations();return{kind:qe.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:i,locations:o,loc:this.loc(e)}},t.parseDirectiveLocations=function(){return this.delimitedMany(Ye.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var e=this._lexer.token,t=this.parseName();if(void 0!==et[t.value])return t;throw this.unexpected(e)},t.loc=function(e){var t;if(!0!==(null===(t=this._options)||void 0===t?void 0:t.noLocation))return new Ve(e,this._lexer.lastToken,this._lexer.source)},t.peek=function(e){return this._lexer.token.kind===e},t.expectToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw Ue(this._lexer.source,t.start,"Expected ".concat(yt(e),", found ").concat(vt(t),"."))},t.expectOptionalToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t},t.expectKeyword=function(e){var t=this._lexer.token;if(t.kind!==Ye.NAME||t.value!==e)throw Ue(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(vt(t),"."));this._lexer.advance()},t.expectOptionalKeyword=function(e){var t=this._lexer.token;return t.kind===Ye.NAME&&t.value===e&&(this._lexer.advance(),!0)},t.unexpected=function(e){var t=null!=e?e:this._lexer.token;return Ue(this._lexer.source,t.start,"Unexpected ".concat(vt(t),"."))},t.any=function(e,t,n){this.expectToken(e);for(var r=[];!this.expectOptionalToken(n);)r.push(t.call(this));return r},t.optionalMany=function(e,t,n){if(this.expectOptionalToken(e)){var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}return[]},t.many=function(e,t,n){this.expectToken(e);var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r},t.delimitedMany=function(e,t){this.expectOptionalToken(e);var n=[];do{n.push(t.call(this))}while(this.expectOptionalToken(e));return n},e}();function vt(e){var t=e.value;return yt(e.kind)+(null!=t?' "'.concat(t,'"'):"")}function yt(e){return function(e){return e===Ye.BANG||e===Ye.DOLLAR||e===Ye.AMP||e===Ye.PAREN_L||e===Ye.PAREN_R||e===Ye.SPREAD||e===Ye.COLON||e===Ye.EQUALS||e===Ye.AT||e===Ye.BRACKET_L||e===Ye.BRACKET_R||e===Ye.BRACE_L||e===Ye.PIPE||e===Ye.BRACE_R}(e)?'"'.concat(e,'"'):e}function mt(e){var t,n;try{var r=new dt(e,n).parseDocument().definitions.find((function(e){return"OperationDefinition"===e.kind}));return{operationType:null==r?void 0:r.operation,operationName:null===(t=null==r?void 0:r.name)||void 0===t?void 0:t.value}}catch(e){return e}}function Et(e){var t,n;switch(e.method){case"GET":var r=e.url.searchParams.get("query"),i=e.url.searchParams.get("variables")||"";return{query:r,variables:E(i)};case"POST":if(null===(t=e.body)||void 0===t?void 0:t.query){var o=e.body;return{query:r=o.query,variables:i=o.variables}}if(null===(n=e.body)||void 0===n?void 0:n.operations){var s=e.body,a=s.operations,c=s.map,u=y(s,["operations","map"]),l=E(a)||{};if(!l.query)return null;var p=E(c||"")||{};i=l.variables?function(e,t,n){for(var r={variables:e},i=0,o=Object.entries(t);i<o.length;i++){var s=o[i],a=s[0],c=s[1];if(!(a in n))throw new Error("Given files do not have a key '".concat(a,"' ."));for(var u=0,l=c;u<l.length;u++){for(var p=l[u].split(".").reverse(),h=p[0],f=p.slice(1).reverse(),d=r,v=0,y=f;v<y.length;v++){var m=y[v];if(!(m in d))throw new Error("Property '".concat(f,"' is not in operations."));d=d[m]}d[h]=n[a]}}return r.variables}(l.variables,p,u):{};return{query:l.query,variables:i}}default:return null}}function gt(e){var t=Et(e);if(t&&t.query){var n=t.query,r=t.variables,i=mt(n);if(i instanceof Error){var o=L(e);return console.error('[SWAP] Failed to intercept a GraphQL request to "'.concat(e.method," ").concat(o,'": cannot parse query. See the error message from the parser below.')),void console.error(i)}return{operationType:i.operationType,operationName:i.operationName,variables:r}}}var Nt={set:g,status:N,delay:T,fetch:O,data:a,errors:c},Tt=function(e){function t(t,n,r,i){var o=this,s="all"===t?"".concat(t," (origin: ").concat(r.toString(),")"):"".concat(t," ").concat(n," (origin: ").concat(r.toString(),")");return(o=e.call(this,{info:{header:s,operationType:t,operationName:n},ctx:Nt,resolver:i})||this).endpoint=r,o}return _(t,e),t.prototype.parse=function(e){return gt(e)},t.prototype.getPublicRequest=function(e,t){return b(b({},e),{variables:(null==t?void 0:t.variables)||{}})},t.prototype.predicate=function(e,t){if(!t)return!1;if(!t.operationName){var n=L(e);return console.warn('[SWAP] Failed to intercept a GraphQL request at "'.concat(e.method," ").concat(n,'": unnamed GraphQL operations are not supported.\n\nConsider naming this operation or using "graphql.operation" request handler to intercept GraphQL requests regardless of their operation name/type.\n      ')),!1}var r=D(e.url,this.endpoint),i="all"===this.info.operationType||t.operationType===this.info.operationType,o=this.info.operationName instanceof RegExp?this.info.operationName.test(t.operationName):t.operationName===this.info.operationName;return r.matches&&i&&o},t.prototype.log=function(e,t){var n=C(e),r=P(t);console.groupCollapsed("[SWAP] %s %s (%c%s%c)",F(),this.info.operationName,"color:".concat(M(t.status)),t.status,"color:inherit"),console.log("Request:",n),console.log("Handler:",this),console.log("Response:",r),console.groupEnd()},t}(j);function Ot(e,t,n){if(void 0===n&&(n="warn"),"function"!=typeof n){var r,i=gt(e),o=function(e){return e.reduce((function(e,t){return t instanceof U&&e.rest.push(t),t instanceof Tt&&e.graphql.push(t),e}),{rest:[],graphql:[]})}(t),s=function(e,t,n){return t.reduce((function(t,r){var i=n(e,r);return t.concat([[i,r]])}),[]).sort((function(e,t){return e[0]-t[0]})).filter((function(e){return e[0]<=3})).slice(0,4).map((function(e){return e[1]}))}(e,i?o.graphql:o.rest,i?(r=i,function(e,t){if(void 0===r.operationName)return 1/0;var n=t.info,i=n.operationType,o=n.operationName,s=r.operationType===i?.5:0;return Ee(r.operationName,o)-s}):function(e,t){var n=t.info,r=n.mask,i=n.method;if(r instanceof RegExp)return 1/0;var o=B(e.method,i)?.5:0,s=L(e);return Ee(s,r)-o}),a=s.length>0?function(e){return e.length>1?"Did you mean to request one of the following resources instead?\n\n".concat(e.map((function(e){return"   ".concat(e.info.header)})).join("\n")):'Did you mean to request "'.concat(e[0].info.header,'" instead?')}(s):"",c=L(e),u=i?"".concat(i.operationType," ").concat(i.operationName," (").concat(e.method," ").concat(c,")"):"".concat(e.method," ").concat(c),l=["captured a request without a matching request handler:","   ".concat(u),a,"If you still wish to intercept this unhandled request, please create a request handler for it."].filter(Boolean).join("\n\n");switch(n){case"error":console.error("[SWAP] Error: ".concat(l));break;case"warn":console.warn("[SWAP] Warning: ".concat(l));break;case"bypass":break;default:throw new Error('[SWAP] Failed to react to an unhandled request: unknown strategy "'.concat(n,'". Please provide one of the supported strategies ("bypass", "warn", "error") or a custom callback function.'))}}else n(e)}var _t={decodeValues:!0,map:!1,silent:!1};function bt(e){return"string"==typeof e&&!!e.trim()}function kt(e,t){var n=e.split(";").filter(bt),r=n.shift().split("="),i=r.shift(),o=r.join("=");t=t?Object.assign({},_t,t):_t;try{o=t.decodeValues?decodeURIComponent(o):o}catch(e){console.error("set-cookie-parser encountered an error while decoding a cookie with value '"+o+"'. Set options.decodeValues to false to disable this feature.",e)}var s={name:i,value:o};return n.forEach((function(e){var t=e.split("="),n=t.shift().trimLeft().toLowerCase(),r=t.join("=");"expires"===n?s.expires=new Date(r):"max-age"===n?s.maxAge=parseInt(r,10):"secure"===n?s.secure=!0:"httponly"===n?s.httpOnly=!0:"samesite"===n?s.sameSite=r:s[n]=r})),s}function It(e,t){if(t=t?Object.assign({},_t,t):_t,!e)return t.map?{}:[];if(e.headers&&e.headers["set-cookie"])e=e.headers["set-cookie"];else if(e.headers){var n=e.headers[Object.keys(e.headers).find((function(e){return"set-cookie"===e.toLowerCase()}))];n||!e.headers.cookie||t.silent||console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),e=n}if(Array.isArray(e)||(e=[e]),(t=t?Object.assign({},_t,t):_t).map){return e.filter(bt).reduce((function(e,n){var r=kt(n,t);return e[r.name]=r,e}),{})}return e.filter(bt).map((function(e){return kt(e,t)}))}var wt=It,At=It,St=kt,xt=function(e){if(Array.isArray(e))return e;if("string"!=typeof e)return[];var t,n,r,i,o,s=[],a=0;function c(){for(;a<e.length&&/\s/.test(e.charAt(a));)a+=1;return a<e.length}for(;a<e.length;){for(t=a,o=!1;c();)if(","===(n=e.charAt(a))){for(r=a,a+=1,c(),i=a;a<e.length&&"="!==(n=e.charAt(a))&&";"!==n&&","!==n;)a+=1;a<e.length&&"="===e.charAt(a)?(o=!0,a=i,s.push(e.substring(t,r)),t=a):a=r+1}else a+=1;(!o||a>=e.length)&&s.push(e.substring(t,e.length))}return s};wt.parse=At,wt.parseString=St,wt.splitCookiesString=xt;var Lt=h((function(e,t){var n=f&&f.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function r(){try{return null!=localStorage&&(localStorage.setItem("test","test"),localStorage.getItem("test"),!0)}catch(e){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.store=t.PERSISTENCY_KEY=void 0,t.PERSISTENCY_KEY="MSW_COOKIE_STORE";var i=function(){function e(){V(this,e),this.store=new Map}return K(e,[{key:"add",value:function(e,t){var r=this;if("omit"!==e.credentials){var i=new URL(e.url),o=t.headers.get("set-cookie");if(o){var s=Date.now(),a=wt.parse(o).map((function(e){var t=e.maxAge,r=n(e,["maxAge"]);return Object.assign(Object.assign({},r),{expires:void 0===t?r.expires:new Date(s+1e3*t),maxAge:t})})),c=this.store.get(i.origin)||new Map;a.forEach((function(e){r.store.set(i.origin,c.set(e.name,e))}))}}}},{key:"get",value:function(e){this.deleteExpiredCookies();var t=new URL(e.url),n=this.store.get(t.origin)||new Map;switch(e.credentials){case"include":return wt.parse(document.cookie).forEach((function(e){n.set(e.name,e)})),n;case"same-origin":return n;default:return new Map}}},{key:"getAll",value:function(){return this.deleteExpiredCookies(),this.store}},{key:"deleteAll",value:function(e){var t=new URL(e.url);this.store.delete(t.origin)}},{key:"clear",value:function(){this.store.clear()}},{key:"hydrate",value:function(){var e=this;if(r()){var i=localStorage.getItem(t.PERSISTENCY_KEY);if(i)try{JSON.parse(i).forEach((function(t){var r=W(t,2),i=r[0],o=r[1];e.store.set(i,new Map(o.map((function(e){var t=W(e,2),r=t[0],i=t[1],o=i.expires,s=n(i,["expires"]);return[r,void 0===o?s:Object.assign(Object.assign({},s),{expires:new Date(o)})]}))))}))}catch(e){console.warn('\n[virtual-cookie] Failed to parse a stored cookie from the localStorage (key "'.concat(t.PERSISTENCY_KEY,'").\n\nStored value:\n').concat(localStorage.getItem(t.PERSISTENCY_KEY),"\n\nThrown exception:\n").concat(e,"\n\nInvalid value has been removed from localStorage to prevent subsequent failed parsing attempts.")),localStorage.removeItem(t.PERSISTENCY_KEY)}}}},{key:"persist",value:function(){if(r()){var e=Array.from(this.store.entries()).map((function(e){var t=W(e,2),n=t[0],r=t[1];return[n,Array.from(r.entries())]}));localStorage.setItem(t.PERSISTENCY_KEY,JSON.stringify(e))}}},{key:"deleteExpiredCookies",value:function(){var e=this,t=Date.now();this.store.forEach((function(n,r){n.forEach((function(e){var r=e.expires,i=e.name;void 0!==r&&r.getTime()<=t&&n.delete(i)})),0===n.size&&e.store.delete(r)}))}}]),e}();t.store=new i})),Rt=h((function(e,t){var n=f&&f.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=f&&f.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),r(Lt,t)}));function Dt(){return k(document.cookie)}function Ct(e){var t;Rt.store.hydrate(),e.cookies=b(b({},function(e){if("undefined"==typeof location)return{};switch(e.credentials){case"same-origin":return location.origin===e.url.origin?Dt():{};case"include":return Dt();default:return{}}}(e)),Array.from(null===(t=Rt.store.get(b(b({},e),{url:e.url.toString()})))||void 0===t?void 0:t.entries()).reduce((function(e,t){var n,r=t[0],i=t[1].value;return Object.assign(e,((n={})[r]=i,n))}),{})),e.headers.set("cookie",Object.entries(e.cookies).map((function(e){var t=e[0],n=e[1];return"".concat(t,"=").concat(n)})).join("; "))}function Pt(e){if(!e.method||!B(e.method,"GET")||""!==e.body)return e.body}var Ft=function(e,t){return function(n,r){return d(void 0,void 0,void 0,(function(){var i,o,s,a,c,u,l,p,h,f,d;return v(this,(function(v){switch(v.label){case 0:i=function(e){var t=e.ports[0];return{send:function(e){t&&t.postMessage(e)}}}(n),v.label=1;case 1:return v.trys.push([1,3,,4]),o=function(e){var t={id:e.id,cache:e.cache,credentials:e.credentials,method:e.method,url:new URL(e.url),referrer:e.referrer,referrerPolicy:e.referrerPolicy,redirect:e.redirect,mode:e.mode,params:{},cookies:{},integrity:e.integrity,keepalive:e.keepalive,destination:e.destination,body:Pt(e),bodyUsed:e.bodyUsed,headers:new I.Headers(e.headers)};return Ct(t),t.body=Y(t.body,t.headers),t}(r.payload),e.emitter.emit("request:start",o),Ct(o),"api"===t.bypassMode&&"true"!==(null===(f=o.headers)||void 0===f?void 0:f.get("x-swap-jsbridge"))||"jsbridge"===t.bypassMode&&"true"===(null===(d=o.headers)||void 0===d?void 0:d.get("x-swap-jsbridge"))?(Ot(o,e.requestHandlers,t.onUnhandledRequest),[2,i.send({type:"MOCK_NOT_FOUND"})]):(y=o.url.href,[/^(http|https):\/\/([\w\W]+)\/sockjs-node\/info/gi,/^(http|https):\/\/([\w\W]+)\/([\w\W]+).hot-update/gi].some((function(e){if(y.match(e))return!0}))?[2,i.send({type:"MOCK_BY_PASS"})]:[4,me(o,e.requestHandlers)]);case 2:return s=v.sent(),a=s.response,c=s.handler,u=s.publicRequest,l=s.parsedRequest,c?(e.emitter.emit("request:match",o),a?(function(e,t){Rt.store.add(b(b({},e),{url:e.url.toString()}),t),Rt.store.persist()}(o,a),p=b(b({},a),{headers:I.headersToList(a.headers)}),t.quiet||setTimeout((function(){c.log(u,p,c,l)}),a.delay),e.emitter.emit("request:end",o),i.send({type:"MOCK_SUCCESS",payload:p}),[3,4]):(t.isOnline||console.warn("[SWAP] Expected a mocking resolver function to return a mocked response Object, but got: %s. Original response is going to be used instead.",a),e.emitter.emit("request:end",o),[2,i.send({type:"MOCK_NOT_FOUND",payload:{baseURL:t.baseURL}})])):(t.isOnline||Ot(o,e.requestHandlers,t.onUnhandledRequest),e.emitter.emit("request:unhandled",o),e.emitter.emit("request:end",o),[2,i.send({type:"MOCK_NOT_FOUND",payload:{baseURL:t.baseURL}})]);case 3:return(h=v.sent())instanceof G?[2,i.send({type:"NETWORK_ERROR",payload:{name:h.name,message:h.message}})]:(i.send({type:"INTERNAL_ERROR",payload:{status:500,body:JSON.stringify({errorType:h.constructor.name,message:h.message,location:h.stack})}}),[3,4]);case 4:return[2]}var y}))}))}};var Mt={serviceWorker:{url:"/swapSW.js",options:null},quiet:!1,waitUntilReady:!0,onUnhandledRequest:"warn",findWorker:function(e,t){return e===t},bypassMode:"none",isOnline:!1,baseURL:""},jt=function(e){return function(t){var n=this,r=p(Mt,t||{});e.startOptions=r;var i=d(n,void 0,void 0,(function(){var n,i,o,s,a;return v(this,(function(c){switch(c.label){case 0:if(!("serviceWorker"in navigator))throw new Error("[SWAP] Failed to register a Service Worker: this browser does not support Service Workers (see https://caniuse.com/serviceworkers), or your application is running on an insecure host (consider using HTTPS for custom hostnames).");return e.events.removeAllListeners(),e.workerChannel.on("REQUEST",Ft(e,r)),e.workerChannel.on("RESPONSE",function(e){return function(t,n){var r,i=n.payload;if(!(null===(r=i.type)||void 0===r?void 0:r.includes("opaque"))){var o=new Response(i.body||null,i);"swap"===o.headers.get("x-powered-by")?e.emitter.emit("response:mocked",o,i.requestId):e.emitter.emit("response:bypass",o,i.requestId)}}}(e)),[4,ve(r.serviceWorker.url,r.serviceWorker.options,r.findWorker)];case 1:if(n=c.sent(),i=n[0],o=n[1],!i)throw s=(null==t?void 0:t.findWorker)?'[SWAP] Failed to locate the Service Worker registration using a custom "findWorker" predicate.\n\nPlease ensure that the custom predicate properly locates the Service Worker registration at "'.concat(r.serviceWorker.url,'".\n'):'[SWAP] Failed to locate the Service Worker registration.\n\nThis most likely means that the worker script URL "'.concat(r.serviceWorker.url,'" cannot resolve against the actual public hostname (').concat(location.host,'). This may happen if your application runs behind a proxy, or has a dynamic hostname.\n\nPlease consider using a custom "serviceWorker.url" option to point to the actual worker script location, or a custom "findWorker" option to resolve the Service Worker registration manually.'),new Error(s);return e.worker=i,e.registration=o,e.events.addListener(window,"beforeunload",(function(){"redundant"!==i.state&&e.workerChannel.send("CLIENT_CLOSED"),window.clearInterval(e.keepAliveInterval)})),[4,fe((function(){return function(e,t){return d(this,void 0,void 0,(function(){var n;return v(this,(function(r){switch(r.label){case 0:return e.workerChannel.send("INTEGRITY_CHECK_REQUEST"),[4,e.events.once("INTEGRITY_CHECK_RESPONSE")];case 1:if("53e7749997702c747f2e74089088f3f9"!==(n=r.sent().payload))throw new Error("Currently active Service Worker (".concat(n,") is behind the latest published one (").concat("53e7749997702c747f2e74089088f3f9",")."));return[2,t]}}))}))}(e,i)}))];case 2:return(a=c.sent()[0])&&console.error("[SWAP] Detected outdated Service Worker: ".concat(a.message,"\n\nThe mocking is still enabled, but it's highly recommended that you update your Service Worker by running:\n\n$ npx swap init <PUBLIC_DIR>\n\nThis is necessary to ensure that the Service Worker is in sync with the library to guarantee its stability.\nIf this message still persists after updating      ")),[4,ye(e,t).catch((function(e){throw new Error("Failed to enable mocking: ".concat(null==e?void 0:e.message))}))];case 3:return c.sent(),e.keepAliveInterval=window.setInterval((function(){return e.workerChannel.send("KEEPALIVE_REQUEST")}),5e3),[2,o]}}))}));return r.waitUntilReady&&function(e){var t=this,n=window.XMLHttpRequest.prototype.send;window.XMLHttpRequest.prototype.send=function(){for(var t=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];fe((function(){return e})).then((function(){window.XMLHttpRequest.prototype.send=n,t.send.apply(t,r)}))};var r=window.fetch;window.fetch=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return d(t,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:return[4,fe((function(){return e}))];case 1:return t.sent(),window.fetch=r,[2,window.fetch.apply(window,n)]}}))}))}}(i),i}},Ut=function(e){return function(){var t;e.workerChannel.send("MOCK_DEACTIVATE"),e.events.removeAllListeners(),e.emitter.removeAllListeners(),window.clearInterval(e.keepAliveInterval),(null===(t=e.startOptions)||void 0===t?void 0:t.quiet)||console.log("%c[SWAP] Mocking disabled.","color:orangered;font-weight:bold;")}};function qt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e.unshift.apply(e,t)}function Bt(e){e.forEach((function(e){e.markAsSkipped(!1)}))}function Kt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.length>0?w([],t,!0):w([],e,!0)}var Vt=Object.freeze({__proto__:null,use:qt,restoreHandlers:Bt,resetHandlers:Kt}),Wt=[];function Yt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.forEach((function(e){if(Array.isArray(e))throw new Error('[SWAP] Failed to call "setupWorker" given an Array of request handlers (setupWorker([a, b])), expected to receive each handler individually: setupWorker(a, b).')}));var n={startOptions:void 0,worker:null,registration:null,requestHandlers:w([],e,!0),emitter:new pe.StrictEventEmitter,workerChannel:{on:function(e,t){n.events.addListener(navigator.serviceWorker,"message",(function(r){if(r.source===n.worker){var i=E(r.data);i&&i.type===e&&t(r,i)}}))},send:function(e){var t;null===(t=n.worker)||void 0===t||t.postMessage(e)}},events:{addListener:function(e,t,n){return e.addEventListener(t,n),Wt.push({eventType:t,target:e,callback:n}),function(){e.removeEventListener(t,n)}},removeAllListeners:function(){for(var e=0,t=Wt;e<t.length;e++){var n=t[e],r=n.target,i=n.eventType,o=n.callback;r.removeEventListener(i,o)}Wt=[]},once:function(e){var t=[];return new Promise((function(r,i){t.push(n.events.addListener(navigator.serviceWorker,"message",(function(t){try{var n=JSON.parse(t.data);n.type===e&&r(n)}catch(e){i(e)}})),n.events.addListener(navigator.serviceWorker,"messageerror",i))})).finally((function(){t.forEach((function(e){return e()}))}))}}};if(A())throw new Error("[SWAP] Failed to execute `setupWorker` in a non-browser environment. Consider using `setupServer` for Node.js environment instead.");return{start:jt(n),stop:Ut(n),use:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.log("adding new handlers",e),qt.apply(Vt,w([n.requestHandlers],e,!1))},restoreHandlers:function(){Bt(n.requestHandlers)},resetHandlers:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];n.requestHandlers=Kt.apply(Vt,w([e],t,!1))},printHandlers:function(){n.requestHandlers.forEach((function(e){var t=e.info,n=t.header,r=t.callFrame,i=e.info.hasOwnProperty("operationType")?"[graphql]":"[rest]";console.groupCollapsed("".concat(i," ").concat(n)),r&&console.log("Declaration: ".concat(r)),console.log("Handler:",e),e instanceof U&&console.log("Match:","path=".concat(e.info.mask)),console.groupEnd()}))},on:function(e,t){n.emitter.addListener(e,t)}}}function Gt(e,t){return function(n,r){return new Tt(e,n,t,r)}}function Ht(e){return function(t){return new Tt("all",new RegExp(".*"),e,t)}}var Jt={operation:Ht("*"),query:Gt("query","*"),mutation:Gt("mutation","*")};var Qt=b(b({},Jt),{link:function(e){return{operation:Ht(e),query:Gt("query",e),mutation:Gt("mutation",e)}}});export{Tt as GraphQLHandler,Qt as graphql,Nt as graphqlContext,Yt as setupWorker};
